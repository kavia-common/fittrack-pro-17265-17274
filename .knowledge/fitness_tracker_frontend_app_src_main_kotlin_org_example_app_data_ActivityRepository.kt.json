{"is_source_file": true, "format": "Kotlin", "description": "This file defines a data class and a repository class for managing activity entries (steps and distance) stored in Android SharedPreferences, with functions to add, retrieve, and analyze activity data per day and week.", "external_files": ["android.content.Context", "android.content.SharedPreferences", "org.json.JSONArray", "org.json.JSONObject", "java.text.SimpleDateFormat", "java.util.Calendar", "java.util.Date", "java.util.Locale"], "external_methods": ["context.getSharedPreferences", "SharedPreferences.getString", "SharedPreferences.edit", "SharedPreferences.apply", "JSONArray.<init>", "JSONArray.length", "JSONArray.getJSONObject", "JSONObject.put", "JSONObject.getString", "JSONObject.getInt", "JSONObject.getDouble", "Calendar.getInstance", "Calendar.add", "Calendar.getTime", "DateFormat.parse"], "published": ["ActivityEntry", "ActivityRepository"], "classes": [{"name": "ActivityEntry", "description": "Data class representing an activity record with date, steps, and distance in kilometers."}, {"name": "ActivityRepository", "description": "Repository class for managing activity entries stored in SharedPreferences, providing methods to add today's activities, retrieve data, and perform weekly activity calculations."}], "methods": [{"name": "addToday", "description": "Adds steps and distance for the current day, updating existing entry if present."}, {"name": "getAll", "description": "Returns all activity entries as an immutable list."}, {"name": "getTodaySteps", "description": "Retrieves the number of steps recorded for the current day."}, {"name": "countActiveDaysThisWeek", "description": "Counts the number of days in the past week with activity (steps > 0)."}, {"name": "getLast7DaysSteps", "description": "Retrieves a list of steps for each of the last 7 days."}, {"name": "parse", "description": "Parses a string into a Date object using the specified date format."}, {"name": "getAllMutable", "description": "Internal method that loads and deserializes all activity entries from SharedPreferences."}, {"name": "save", "description": "Serializes and saves the list of activity entries into SharedPreferences."}], "calls": ["context.getSharedPreferences", "prefs.getString", "prefs.edit", "SharedPreferences.Editor.apply", "JSONArray.<init>", "JSONArray.length", "JSONArray.getJSONObject", "JSONObject.put", "JSONObject.getString", "JSONObject.getInt", "JSONObject.getDouble", "Calendar.getInstance", "Calendar.add", "Calendar.getTime", "SimpleDateFormat.format", "SimpleDateFormat.parse"], "search-terms": ["ActivityRepository", "SharedPreferences", "activity entries", "steps", "distanceKm", "addToday", "getLast7DaysSteps", "countActiveDaysThisWeek"], "state": 2, "file_id": 13, "knowledge_revision": 41, "git_revision": "", "hash": "93cfed57dfc9438f018b0781fefb0c77", "format-version": 4, "code-base-name": "fitness_tracker_frontend", "filename": "fitness_tracker_frontend/app/src/main/kotlin/org/example/app/data/ActivityRepository.kt", "revision_history": [{"41": ""}]}