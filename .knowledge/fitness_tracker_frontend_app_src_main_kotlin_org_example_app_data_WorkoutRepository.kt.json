{"is_source_file": true, "format": "Kotlin", "description": "This file defines a WorkoutRepository class that manages workout entries stored in SharedPreferences. It includes adding workouts, retrieving all workouts, and counting workouts within the current week. The entries are stored as JSON objects with fields for date/time, workout type, duration, and calories.", "external_files": ["android.content.Context", "android.content.SharedPreferences", "org.json.JSONArray", "org.json.JSONObject", "java.text.SimpleDateFormat", "java.util.Date", "java.util.Locale"], "external_methods": ["context.getSharedPreferences", "SharedPreferences.getString", "SharedPreferences.edit", "SharedPreferences.apply", "JSONArray.length", "JSONArray.getJSONObject", "JSONObject.getString", "JSONObject.getInt", "SimpleDateFormat.format", "Date", "Date.after", "Date.compareTo"], "published": ["WorkoutRepository", "WorkoutEntry"], "classes": [{"name": "WorkoutEntry", "description": "A data class representing a workout entry with date, type, duration, and calories."}, {"name": "WorkoutRepository", "description": "A repository class that manages workout entries stored in Android SharedPreferences, providing methods to add entries, retrieve all, and count entries for the current week."}], "methods": [{"name": "add", "description": "Adds a new workout entry with specified type, duration, and calories, timestamped with current date and time."}, {"name": "getAll", "description": "Retrieves all workout entries as a list."}, {"name": "countThisWeek", "description": "Counts the number of workout entries that occurred within the current week."}, {"name": "getAllMutable", "description": "Parses stored JSON string of entries into a mutable list of WorkoutEntry objects."}, {"name": "save", "description": "Saves a list of WorkoutEntry objects into SharedPreferences in JSON format."}], "calls": ["context.getSharedPreferences", "prefs.getString", "JSONArray()", "JSONArray.length", "JSONArray.getJSONObject", "JSONObject.getString", "JSONObject.getInt", "dtFmt.format", "dFmt.parse", "dFmt.format", "Date()", "Date.time", "preferences.edit", "SharedPreferences.Editor.putString", "SharedPreferences.Editor.apply"], "search-terms": ["WorkoutRepository", "WorkoutEntry", "SharedPreferences workout data", "Workout weekly count", "JSON workout storage", "Fitness tracking kotlin"], "state": 2, "file_id": 14, "knowledge_revision": 42, "git_revision": "", "hash": "fa2e024109f5d3f75ef8974a1bbed0ac", "format-version": 4, "code-base-name": "fitness_tracker_frontend", "filename": "fitness_tracker_frontend/app/src/main/kotlin/org/example/app/data/WorkoutRepository.kt", "revision_history": [{"42": ""}]}